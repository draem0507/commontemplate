<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="content-type" content="text/html; charset=gb2312" />
		<title>Common Template Engine</title>
		<meta name="keywords" content="commontemplate ctl template language engine code generator" />
		<style type="text/css">
			body {
				margin: 0px;
				padding: 0px;
				font-family: Arial, Helvetica, sans-serif;
				font-size: 12px;
				color: #000000;
				cursor: url('../images/cursor.cur');
			}

			td {
				font-size: 12px;
				height: 26;
			}

			img {
				border: 0px;
				clear: right;
			}

			input {
				font-family: Arial, Helvetica, sans-serif;
				font-size: 12px;
				color: #000000;
			}

			a:link {
				font-size: 12px;
				color: #003399;
				text-decoration: none;
			}
			a:visited {
				font-size: 12px;
				color: #003399;
				text-decoration: none;
			}
			a:active {
				font-size: 12px;
				color: #003399;
				text-decoration: none;
			}
			a:hover {
				font-size: 12px;
				color: #003399;
				text-decoration: underline;
			}
		</style>
	</head>
	<body>
		<table width="100%" border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td height="66">
					<table width="100%" border="0" cellspacing="0" cellpadding="0">
						<tr>
							<td rowspan="2" height="60"><a href="http://www.commontemplate.org"><img src="../images/banner.gif" alt="Common Template Engine" border="0" width="400" height="50" /></a></td>
							<td height="40" valign="top" align="right">
								
								<a href="../../zh/index.html">发布版本</a>
								|
								每日构建
								
								&gt;&gt;&nbsp;
								
								<a href="../en/api.html">English</a>
								
								|
								
								&#20013;&#25991;
								
							</td>
						</tr>
						<tr>
							<td height="20" valign="bottom" align="right">
								<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse; border-style: solid; border-color: #CCCCCC;">
									<tr align="center">
										
										<td width="90" height="20" style="font-weight: bold;"><a href="downloads.html" target="_self">下载</a></td>
										
										<td width="90" height="20" style="font-weight: bold;"><a href="changes.html" target="_self">更新</a></td>
										
										<td width="90" height="20" style="font-weight: bold;"><a href="http://forum.commontemplate.org/index.php" target="_blank">论坛</a></td>
										
										<td width="90" height="20" style="font-weight: bold;"><a href="about.html" target="_self">关于我们</a></td>
										
									</tr>
								</table>
							</td>
						</tr>
						<tr>
							<td colspan="2" height="6" style="background-color: #005B88;"></td>
						</tr>
					</table>
				</td>
			</tr>
			<tr>
				<td>
					<table width="100%" border="0" cellspacing="0" cellpadding="0">
						<tr>
							<td width="200" valign="top">
								<table width="100%" border="1" style="border-collapse: collapse; border-style: solid; border-color: #CCCCCC;" cellspacing="1" cellpadding="2">
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="4" height="22" style="background-color: #0055CC;"></td>
													<td width="4"></td>
													<td style="font-weight: bold;">文档</td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="index.html" target="_self">首页概览</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="template.html" target="_self">模板指南</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="expression.html" target="_self">表达式指南</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="coat.html" target="_self">语法外套指南</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="config.html" target="_self">配置指南</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="extension.html" target="_self">扩展指南</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="api.html" target="_self">API使用指南</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="faq.html" target="_self">常见问题</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="versus.html" target="_self">对比其它模板引擎</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="4" height="22" style="background-color: #0055CC;"></td>
													<td width="4"></td>
													<td style="font-weight: bold;">集成</td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="mvc.html" target="_self">MVC框架集成</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="jsp.html" target="_self">JSP标签集成</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="cache.html" target="_self">缓存策略集成</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="logger.html" target="_self">日志框架集成</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="data.html" target="_self">数据格式集成</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="javaxscript.html" target="_self">脚本引擎集成</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="mail.html" target="_self">邮件发送组件集成</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="dependency.html" target="_self">第三方集成依赖包</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="4" height="22" style="background-color: #0055CC;"></td>
													<td width="4"></td>
													<td style="font-weight: bold;">工具</td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="debugger.html" target="_self">调试器说明</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="viewer.html" target="_self">查看器说明</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="generator.html" target="_self">模板生成器说明</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="converter.html" target="_self">模板转换器说明</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="editor.html" target="_self">编辑器插件说明</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="codecase.html" target="_self">代码生成器说明</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="4" height="22" style="background-color: #0055CC;"></td>
													<td width="4"></td>
													<td style="font-weight: bold;">开发</td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="architecture.html" target="_self">架构设计</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="criterion.html" target="_self">开发规范</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="planning.html" target="_self">项目计划</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="requirement.html" target="_self">需求场景</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="4" height="22" style="background-color: #0055CC;"></td>
													<td width="4"></td>
													<td style="font-weight: bold;">资源</td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="downloads.html" target="_self">下载</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="../resources/license.txt" target="_blank">许可协议</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="changes.html" target="_self">更新日志</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="uml.html" target="_self">UML图</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="../javadoc/index.html" target="_self">Java Doc</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="../coverage/index.html" target="_self">测试覆盖率报告</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="4" height="22" style="background-color: #0055CC;"></td>
													<td width="4"></td>
													<td style="font-weight: bold;">社区</td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="about.html" target="_self">开发团队</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="http://forum.commontemplate.org/index.php/index.php" target="_blank">论坛</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="http://code.google.com/p/commontemplate/w/list" target="_blank">知识库</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="http://groups.google.com/group/commontemplate-user" target="_blank">邮件列表</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="http://code.google.com/p/commontemplate/issues/list" target="_blank">问题列表</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									<tr>
										<td height="24" style="background-color: #F4F4F4;">
											<table width="100%" border="0" cellpadding="0" cellspacing="0">
												<tr>
													<td width="16"></td>
													<td><a href="http://code.google.com/p/commontemplate/issues/entry" target="_blank">报告问题</a></td>
												</tr>
											</table>
										</td>
									</tr>
									
									
								</table>
								<br/>
								<form method="GET" action="http://www.google.com/custom" target="_blank">
								<table border="0" cellspacing="0" cellpadding="4">
									<tr>
										<td>
											<input type="text" name="q" maxlength="128" style="width: 120px;" />
											<input type="hidden" name="domains" value="commontemplate.org" />
											<input type="hidden" name="sitesearch" value="commontemplate.org" />
											<input type="hidden" name="hl" value="zh-CN" />
											<input type="hidden" name="cof" value="LH:50;LW:400;L:http://www.commontemplate.org/images/banner.gif;S:http://www.commontemplate.org;" />
										</td>
										<td>
											<input type="submit" name="sa" value="搜索" />
										</td>
									</tr>
								</table>
								</form>
							</td>
							<td width="20">&nbsp;</td>
							<td align="left" valign="top">
								<table width="100%" border="0" cellpadding="0" cellspacing="0">
									<tr>
										<td height="32" align="left" valign="bottom"><b><font size="3">CommonTemplate API使用指南</font></b></td>
									<tr>
									<tr>
										<td align="left"><hr width="30%" align="left" /></td>
									<tr>
									<tr>
										<td align="left">
											
<b>一. 模板引擎使用</b> <a href="../javadoc/index.html">JavaDoc...</a><br/>
<b>(1) Java版: </b><font color="green">(环境需求JRE1.4.2以上)</font> <a href="http://java.sun.com/j2se/1.4.2/downloads.html" target="_blank">下载jre...</a><br/>


<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   Java2Html Converter 5.0 [2006-02-26] by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<div align="left" class="java">
<table border="0" cellpadding="3" cellspacing="0" bgcolor="#ffffff">
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>
<font color="#3f7f5f">//&nbsp;导入util和io包</font><br />
<font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">java.util.*;</font><br />
<font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">java.io.*;</font><br />
<font color="#ffffff"></font><br />
<font color="#3f7f5f">//&nbsp;导入commontemplate模块</font><br />
<font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">org.commontemplate.core.*;</font><br />
<font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">org.commontemplate.engine.*;</font><br />
<font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">org.commontemplate.standard.*;</font><br />
<font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">org.commontemplate.tools.*;</font><br />
<font color="#ffffff"></font><br />
<font color="#3f7f5f">//&nbsp;配置并建造引擎&nbsp;(Engine是内同步线程安全的，并且Engine的装配比较耗时，请单实例重用Engine类)</font><br />
<font color="#000000">ConfigurationSettings&nbsp;config&nbsp;=&nbsp;PropertiesConfigurationLoader.loadConfiguration</font><font color="#000000">(</font><font color="#2a00ff">&#34;commontemplate.properties&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#3f7f5f">//&nbsp;或者：ConfigurationSettings&nbsp;config&nbsp;=&nbsp;PropertiesConfigurationLoader.loadStandardConfiguration();</font><br />
<font color="#3f7f5f">//&nbsp;或者：StandardConfiguration&nbsp;config&nbsp;=&nbsp;new&nbsp;StandardConfiguration();</font><br />
<font color="#3f7f5f">//&nbsp;config.setXXX();</font><br />
<font color="#000000">Engine&nbsp;engine&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">Engine</font><font color="#000000">(</font><font color="#000000">config</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff"></font><br />
<font color="#3f7f5f">//&nbsp;设置全局上下文&nbsp;(GlobalContext在同一Engine创建的Context间共享)</font><br />
<font color="#000000">GlobalContext&nbsp;globalContext&nbsp;=&nbsp;engine.getGlobalContext</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#000000">globalContext.put</font><font color="#000000">(</font><font color="#2a00ff">&#34;name&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;value&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#000000">...</font><br />
<font color="#ffffff"></font><br />
<font color="#3f7f5f">//&nbsp;定义运行期数据</font><br />
<font color="#000000">Map&nbsp;model&nbsp;=&nbsp;...</font><br />
<font color="#000000">Writer&nbsp;out&nbsp;=&nbsp;...</font><br />
<font color="#ffffff"></font><br />
<font color="#3f7f5f">//&nbsp;创建上下文&nbsp;(Context非线程安全，应为每次执行创建新的Context)</font><br />
<font color="#000000">Context&nbsp;context&nbsp;=&nbsp;engine.createContext</font><font color="#000000">(</font><font color="#000000">out</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#000000">context.putAll</font><font color="#000000">(</font><font color="#000000">model</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#000000">context.put</font><font color="#000000">(</font><font color="#2a00ff">&#34;name&#34;</font><font color="#000000">,&nbsp;</font><font color="#2a00ff">&#34;value&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#000000">...</font><br />
<font color="#ffffff"></font><br />
<font color="#3f7f5f">//&nbsp;执行模板</font><br />
<font color="#000000">Template&nbsp;template&nbsp;=&nbsp;engine.getTemplate</font><font color="#000000">(</font><font color="#2a00ff">&#34;mytemplate.ctl&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#000000">template.render</font><font color="#000000">(</font><font color="#000000">context</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff"></font><br />
<font color="#3f7f5f">//&nbsp;清理上下文及输出(最好放在finally块中)</font><br />
<font color="#000000">context.clear</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#000000">out.flush</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#000000">out.close</font><font color="#000000">()</font><font color="#000000">;</font></code>
    
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

<br/>
<br/>
<b>关系图如下：</b><br/>
<img src="../images/uml/api.gif"/><br/>
<br/>
<b>工具类：</b> org.commontemplate.tools.TemplateRenderer<br/>
Writer out = ...;<br/>
<font color="#7f0055"><b>new</b></font> TemplateRenderer(<font color="#2a00ff">"$for{times} ${user.name} $end"</font>).put(<font color="#2a00ff">"times"</font>, 5).put(<font color="#2a00ff">"user"</font>, <font color="#7f0055"><b>new</b></font> User(1, <font color="#2a00ff">"james"</font>)).render(out);<br/>
或者：<br/>
String result = <font color="#7f0055"><b>new</b></font> TemplateRenderer(<font color="#2a00ff">"$for{times} ${user.name} $end"</font>).put(<font color="#2a00ff">"times"</font>, 5).put(<font color="#2a00ff">"user"</font>, <font color="#7f0055"><b>new</b></font> User(1, <font color="#2a00ff">"james"</font>)).evaluate();<br/>
<br/>
<b>(2) .Net版: </b><font color="green">(环境需求CLR1.1以上)</font><br/>
......<br/>
<br/>
<b>二. 表达式引擎使用</b><br/>
<b>Java API:</b><br/>


<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   Java2Html Converter 5.0 [2006-02-26] by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<div align="left" class="java">
<table border="0" cellpadding="3" cellspacing="0" bgcolor="#ffffff">
   <tr>
  <!-- start source code -->
   <td nowrap="nowrap" valign="top" align="left">
    <code>
<font color="#3f7f5f">//&nbsp;导入相关模块</font><br />
<font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">org.commontemplate.core.*;</font><br />
<font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">org.commontemplate.engine.expression.*;</font><br />
<font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">org.commontemplate.standard.*;</font><br />
<font color="#7f0055"><b>import&nbsp;</b></font><font color="#000000">org.commontemplate.tools.*;</font><br />
<font color="#ffffff"></font><br />
<font color="#3f7f5f">//&nbsp;配置并建造引擎</font><br />
<font color="#000000">ExpressionConfigurationSettings&nbsp;config&nbsp;=&nbsp;PropertiesConfigurationLoader.loadExpressionConfiguration</font><font color="#000000">(</font><font color="#2a00ff">&#34;commonexpression.properties&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#3f7f5f">//&nbsp;或者：ExpressionConfigurationSettings&nbsp;config&nbsp;=&nbsp;PropertiesConfigurationLoader.loadStandardExpressionConfiguration();</font><br />
<font color="#3f7f5f">//&nbsp;config.setXXX();</font><br />
<font color="#000000">ExpressionEngine&nbsp;engine&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">ExpressionEngine</font><font color="#000000">(</font><font color="#000000">config</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#ffffff"></font><br />
<font color="#3f7f5f">//&nbsp;创建上下文</font><br />
<font color="#000000">ExpressionContext&nbsp;context&nbsp;=&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">ExpressionContext</font><font color="#000000">()</font><font color="#000000">;</font><br />
<font color="#000000">context.put</font><font color="#000000">(</font><font color="#2a00ff">&#34;price&#34;</font><font color="#000000">,&nbsp;</font><font color="#7f0055"><b>new&nbsp;</b></font><font color="#000000">Integer</font><font color="#000000">(</font><font color="#990000">17</font><font color="#000000">))</font><font color="#000000">;</font><br />
<font color="#ffffff"></font><br />
<font color="#3f7f5f">//&nbsp;解析表达式</font><br />
<font color="#000000">Expression&nbsp;expression&nbsp;=&nbsp;engine.parseExpression</font><font color="#000000">(</font><font color="#2a00ff">&#34;price&nbsp;*&nbsp;3&nbsp;+&nbsp;5&#34;</font><font color="#000000">)</font><font color="#000000">;</font><br />
<font color="#000000">Object&nbsp;result&nbsp;=&nbsp;expression.evaluate</font><font color="#000000">(</font><font color="#000000">context</font><font color="#000000">)</font><font color="#000000">;</font></code>
    
   </td>
  <!-- end source code -->
   </tr>
</table>
</div>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

<br/>
<br/>
<b>工具类:</b> org.commontemplate.tools.ExpressionEvaluator<br/>
Object result = <font color="#7f0055"><b>new</b></font> ExpressionEvaluator(<font color="#2a00ff">"book.price * discount + 1"</font>).put(<font color="#2a00ff">"book"</font>, <font color="#7f0055"><b>new</b></font> Book()).put(<font color="#2a00ff">"discount"</font>, 0.8).evaluate();<br/>
	
										</td>
									<tr>
								</table>
							</td>
							<td width="20">&nbsp;</td>
						</tr>
					</table>
				</td>
			</tr>
			<tr>
				<td height="6" align="center"><hr width="94%" align="center"/></td>
			</tr>
			<tr>
				<td height="24" align="center">
					<table border="0" cellpadding="0" cellspacing="0">
						<tr>
							<td>
								版权所有 &#169; 2007 - 2009 <a href="about.html">CommonTemplate 开发小组</a>
							</td>
							<td width="100" align="right">
								<a href="http://www.commontemplate.org"><img src="../images/logo.gif" border="0" /></a>
							</td>
							<td width="100" align="right">
								<a href="http://www.commontemplate.org"><img src="../images/powered.gif" border="0" /></a>
							</td>
						<tr>
					</table>
				</td>
			</tr>
		</table>
	</body>
</html>